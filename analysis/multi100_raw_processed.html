<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Multi100: Raw to processed data cleaning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="multi100_raw_processed_files/libs/clipboard/clipboard.min.js"></script>
<script src="multi100_raw_processed_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="multi100_raw_processed_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="multi100_raw_processed_files/libs/quarto-html/popper.min.js"></script>
<script src="multi100_raw_processed_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="multi100_raw_processed_files/libs/quarto-html/anchor.min.js"></script>
<link href="multi100_raw_processed_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="multi100_raw_processed_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="multi100_raw_processed_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="multi100_raw_processed_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="multi100_raw_processed_files/libs/bootstrap/bootstrap-a8fb7e912b2ea3fd58bca9408dee2331.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Multi100: Raw to processed data cleaning</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<section id="loading-packages" class="level3">
<h3 class="anchored" data-anchor-id="loading-packages">Loading packages</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-custom-functions" class="level3">
<h3 class="anchored" data-anchor-id="load-custom-functions">Load custom functions</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/utils.R"</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/standard_correlation_coefficient.R"</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"R/cohens_d.R"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="read-data" class="level2">
<h2 class="anchored" data-anchor-id="read-data">Read data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Task1 form responses</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_task1_raw_data.csv"</span>))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Task2 form responses</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_task2_raw_data.csv"</span>))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 'all_people' data (to be used for checking that ID's match)</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>all_people <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_all-people_raw_data.csv"</span>))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 'all_paper' meta-information on all papers analyzed</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>all_paper <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_all-paper_raw_data.csv"</span>))</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Master spreadsheet</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>master <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_master_raw_data.csv"</span>))</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Original effect sizes</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>original_effect_sizes <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_original-effect-sizes_raw_data.csv"</span>))</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Reanalyzes effect sizes</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_reanalyzed-effect-sizes_raw_data.csv"</span>))</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Peer evaluation data</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_peer-eval_raw_data.csv"</span>))</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Peer evaluation review data</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>peer_eval_review <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_peer-eval-review_raw_data.csv"</span>))</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Reviewing the direction of the claims in task2</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>claim_direction_review <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_claim-direction-review_raw_data.csv"</span>))</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Non-detailed responses</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>non_detailed_responses <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/raw/multi100_non-detailed-responses_raw_data.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="all_paper" class="level2">
<h2 class="anchored" data-anchor-id="all_paper">all_paper</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>all_paper <span class="ot">&lt;-</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  all_paper <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Excluding empty rows</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="fu">everything</span>(), <span class="sc">~!</span><span class="fu">is.na</span>(.x))) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Remove leading and trailing spaces from paper_id</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">paper_id =</span> <span class="fu">trimws</span>(paper_id, <span class="st">"both"</span>),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reformatting short references for the papers</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">original_paper_reference =</span> <span class="fu">str_replace</span>(original_paper_reference, <span class="st">"_(?=[^_]*$)"</span>, <span class="st">", "</span>),</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">original_paper_reference =</span> <span class="fu">str_replace</span>(original_paper_reference, <span class="st">"_etal"</span>, <span class="st">" et al."</span>),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">original_paper_reference =</span> <span class="fu">str_replace</span>(original_paper_reference, <span class="st">"&amp;"</span>, <span class="st">" &amp; "</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if all paper_id has a corresponding original_paper_reference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>all_paper <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(original_paper_reference)) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>All papers have their corresponding reference.</p>
<p>Number of papers in all_paper based on paper_id, it should be a 100.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>all_paper <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(paper_id) <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
<p>The number of original papers is indeed 100.</p>
</section>
<section id="all_people" class="level2">
<h2 class="anchored" data-anchor-id="all_people">all_people</h2>
<p>Check if analysts have only one analyst_id.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>all_people <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(first_name, last_name, analyst_id), tolower)) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(first_name, last_name, analyst_id) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(first_name, last_name) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_analyst_id =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_analyst_id), last_name) <span class="sc">|&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n_analyst_id <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 47 × 4
# Groups:   first_name, last_name [23]
   first_name last_name analyst_id n_analyst_id
   &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;             &lt;int&gt;
 1 mahmoud    elsherif  ezi7j                 3
 2 mahmoud    elsherif  mx02w                 3
 3 mahmoud    elsherif  4yt1i                 3
 4 chris      aberson   n8p2j                 2
 5 chris      aberson   nftmg                 2
 6 bulent     acma      pi411                 2
 7 bulent     acma      c9n37                 2
 8 marcus     crede     lbuai                 2
 9 marcus     crede     vce46                 2
10 raquel     freitag   guv2i                 2
# ℹ 37 more rows</code></pre>
</div>
</div>
<p>There are analysts who have multiple ids. This can lead to faulty results. We will handle these cases later in the script.</p>
<p>Check if analyst_id is unique to the person.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>all_people <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(first_name, last_name, analyst_id), tolower)) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(analyst_id, first_name, last_name) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(analyst_id) <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_names =</span> <span class="fu">n_distinct</span>(<span class="fu">paste</span>(first_name, last_name)), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_names))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,165 × 2
   analyst_id n_names
   &lt;chr&gt;        &lt;int&gt;
 1 018ol            1
 2 01wdo            1
 3 03jot            1
 4 03ldb            1
 5 03tot            1
 6 06fyc            1
 7 07b8g            1
 8 07b9h            1
 9 07vvm            1
10 08um9            1
# ℹ 1,155 more rows</code></pre>
</div>
</div>
<p>All <code>analyst_id</code>s are unique.</p>
<p>Making sure that we did not repurpose any analyst id.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>all_people <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,165 × 2
   analyst_id     n
   &lt;chr&gt;      &lt;int&gt;
 1 018OL          1
 2 01WDO          1
 3 03JOT          1
 4 03LDB          1
 5 03TOT          1
 6 06FYC          1
 7 07B8G          1
 8 07B9H          1
 9 07VVM          1
10 08UM9          1
# ℹ 1,155 more rows</code></pre>
</div>
</div>
<p>Indeed, we did not.</p>
<p>Check who agreed to have their name attached to the analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>all_people <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(name_attached_to_analysis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  name_attached_to_analysis     n
  &lt;chr&gt;                     &lt;int&gt;
1 I agree                    1165</code></pre>
</div>
</div>
<p>Everyone agreed to have there names attached to the analysis.</p>
</section>
<section id="original_effect_sizes" class="level2">
<h2 class="anchored" data-anchor-id="original_effect_sizes">original_effect_sizes</h2>
<p>Select needed variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>original_effect_sizes <span class="ot">&lt;-</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  original_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>original_materials)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Effect sizes were calculated in excel for this table.</p>
<p>We also convert all the original effect sizes in Cohen’s d to positive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>original_effect_sizes <span class="ot">&lt;-</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  original_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">original_correlation_coef =</span> <span class="fu">as.numeric</span>(original_correlation_coef),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">original_cohens_d =</span> <span class="fu">abs</span>(<span class="fu">as.numeric</span>(original_cohens_d))</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="reanalyzed_effect_sizes" class="level2">
<h2 class="anchored" data-anchor-id="reanalyzed_effect_sizes">reanalyzed_effect_sizes</h2>
<p>Select variables needed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="ot">&lt;-</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    analyst_id,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    paper_id,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    reanalysis_es_missing,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    reanalysis_type_of_statistic,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    reanalysis_statistic_report,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    reanalysis_degrees_of_freedom_1,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    reanalysis_degrees_of_freedom_2,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    reanalysis_model_sample_size</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filling in variables with NAs to make values explicit</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">reanalysis_es_missing =</span> <span class="fu">case_when</span>(</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(reanalysis_es_missing) <span class="sc">~</span> <span class="dv">0</span>L,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(reanalysis_es_missing) <span class="sc">~</span> reanalysis_es_missing</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if there are duplicate responses in the reanalyzed effect sizes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  paper_id                                  analyst_id     n
  &lt;chr&gt;                                     &lt;chr&gt;      &lt;int&gt;
1 Christensen_EurJournPersonality_2018_8R9d JX7YO          2</code></pre>
</div>
</div>
<p>There is one duplicate response. We reached out to the analyst to decide which response should we use for further analysis.</p>
<p>Delete the duplicate response.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="ot">&lt;-</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(analyst_id <span class="sc">==</span> <span class="st">"JX7YO"</span> <span class="sc">&amp;</span> paper_id <span class="sc">==</span> <span class="st">"Christensen_EurJournPersonality_2018_8R9d"</span> <span class="sc">&amp;</span> reanalysis_statistic_report <span class="sc">==</span> <span class="st">"0.132"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if there are any cases where df1 is not 1 for chi2 and F statistics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(reanalysis_type_of_statistic <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"chi²"</span>, <span class="st">"F"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(reanalysis_degrees_of_freedom_1 <span class="sc">!=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 8
   analyst_id paper_id              reanalysis_es_missing reanalysis_type_of_s…¹
   &lt;chr&gt;      &lt;chr&gt;                                 &lt;dbl&gt; &lt;chr&gt;                 
 1 0ZB46      Huijts_EurSocioRev_2…                     1 chi²                  
 2 1BQRY      Shahar_JournConflict…                     1 F                     
 3 3B7KH      Antràs_Econometrica_…                     1 F                     
 4 5J36G      Sliwka_JournLabEco_2…                     1 F                     
 5 BIMKS      Luttrell_JournExpSoc…                     1 F                     
 6 CGTZS      Hertel_ClinPsychSci_…                     1 F                     
 7 E0EIN      Baker_WorldPolitics_…                     1 F                     
 8 F32UK      Miller_JournConflict…                     1 chi²                  
 9 FO7L6      Barreca_JournPoliEco…                     1 F                     
10 HDP26      Cleave_ExpEco_2013_N…                     1 chi²                  
# ℹ 14 more rows
# ℹ abbreviated name: ¹​reanalysis_type_of_statistic
# ℹ 4 more variables: reanalysis_statistic_report &lt;dbl&gt;,
#   reanalysis_degrees_of_freedom_1 &lt;dbl&gt;,
#   reanalysis_degrees_of_freedom_2 &lt;dbl&gt;, reanalysis_model_sample_size &lt;dbl&gt;</code></pre>
</div>
</div>
<p>We cannot use these cases because it would violate our Cohen’s d conversion functions assumption.</p>
<p>Are there any cases where the type of test statistics is F but the value of the test statistics is negative?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(reanalysis_type_of_statistic <span class="sc">==</span> <span class="st">"F"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(reanalysis_statistic_report <span class="sc">&lt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 8
  analyst_id paper_id               reanalysis_es_missing reanalysis_type_of_s…¹
  &lt;chr&gt;      &lt;chr&gt;                                  &lt;dbl&gt; &lt;chr&gt;                 
1 0XXW0      Marshall_BritJournPol…                     1 F                     
# ℹ abbreviated name: ¹​reanalysis_type_of_statistic
# ℹ 4 more variables: reanalysis_statistic_report &lt;dbl&gt;,
#   reanalysis_degrees_of_freedom_1 &lt;dbl&gt;,
#   reanalysis_degrees_of_freedom_2 &lt;dbl&gt;, reanalysis_model_sample_size &lt;dbl&gt;</code></pre>
</div>
</div>
<p>There is one, but we drop this case for now.</p>
<p>Calculate the Cohen’s ds for the reanalyses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>reanalysis_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"reanalysis_type_of_statistic"</span>, <span class="st">"reanalysis_statistic_report"</span>, <span class="st">"reanalysis_model_sample_size"</span>, <span class="st">"reanalysis_degrees_of_freedom_1"</span>, <span class="st">"reanalysis_degrees_of_freedom_2"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="ot">&lt;-</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reanalysis_type_of_statistic =</span> <span class="fu">str_replace_all</span>(reanalysis_type_of_statistic, <span class="st">"²"</span>, <span class="st">"2"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We will delete those values from the processed data file for further analysis where it is not possible to calculate the effect size</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">all_of</span>(reanalysis_vars),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>(reanalysis_es_missing <span class="sc">==</span> <span class="dv">1</span>L, <span class="cn">NA</span>, .)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"reanalysis_statistic_report"</span>, <span class="st">"reanalysis_model_sample_size"</span>, <span class="st">"reanalysis_degrees_of_freedom_1"</span>, <span class="st">"reanalysis_degrees_of_freedom_2"</span>)),</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">as.numeric</span>(.)</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>reanalyzed_effect_sizes <span class="ot">&lt;-</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  reanalyzed_effect_sizes <span class="sc">|&gt;</span> </span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">reanalysis_statistic_report =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>      reanalysis_type_of_statistic <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">~</span> <span class="fu">abs</span>(reanalysis_statistic_report),</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> reanalysis_statistic_report</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">reanalysis_correlation_coef =</span> <span class="fu">mapply</span>(</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>      standard_correlation_coefficient,</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">type_of_statistic =</span> reanalysis_type_of_statistic,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">test_statistic =</span> reanalysis_statistic_report,</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">sample_size =</span> reanalysis_model_sample_size,</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">df1 =</span> reanalysis_degrees_of_freedom_1,</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">df2 =</span> reanalysis_degrees_of_freedom_2,</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">reanalysis_es_missing =</span> reanalysis_es_missing,</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">SIMPLIFY =</span> <span class="cn">TRUE</span>  <span class="co"># Ensure results are simplified if applicable</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">reanalysis_cohens_d =</span> <span class="fu">cohens_d</span>(</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">r =</span> reanalysis_correlation_coef,</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Used for calculating cohens d for regression coefficients</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">type_of_statistic =</span> reanalysis_type_of_statistic,</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">test_statistic =</span> reanalysis_statistic_report,</span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">sample_size =</span> reanalysis_model_sample_size</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Taking the absolute value of every effect size</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">reanalysis_cohens_d =</span> <span class="fu">abs</span>(reanalysis_cohens_d)</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="task1" class="level2">
<h2 class="anchored" data-anchor-id="task1">task1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add 'task1_submission_number' as a reference variable</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">task1_submission_number =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(task1),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove leading and trailing spaces from Analyst_ID and Paper_ID variables</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">analyst_id =</span> <span class="fu">trimws</span>(analyst_id, <span class="st">"both"</span>),</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">paper_id =</span> <span class="fu">trimws</span>(paper_id, <span class="st">"both"</span>),</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rewrite inference categorization labels</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">task1_categorisation_plotting =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>      task1_categorisation <span class="sc">==</span> <span class="st">"The results show evidence for the relationship/effect as described in the claim provided in your task"</span> <span class="sc">~</span> <span class="st">"Same conclusion"</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>      task1_categorisation <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"The results do not show evidence for or against the relationship/effect as described in the claim provided in your task"</span>,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"The results show evidence for the null-hypothesis"</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">~</span> <span class="st">"No effect/inconclusive"</span>,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>      task1_categorisation <span class="sc">==</span> <span class="st">"The results show evidence for opposite relationship/effect as described in the claim provided in your task"</span> <span class="sc">~</span> <span class="st">"Opposite effect"</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span>)</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We are excluding the pilot responses. Analysts with analyst_id “8nJioy5V5B” and “z2u1wLLVu1” are test runs (pilot data).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(analyst_id <span class="sc">%ni%</span> <span class="fu">c</span>(<span class="st">"8nJioy5V5B"</span>, <span class="st">"z2u1wLLVu1"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if all paper_id’s in ‘task1’ are present in ‘all_paper’, if ‘FALSE’ then ID’s match.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>(task1<span class="sc">$</span>paper_id <span class="sc">%in%</span> all_paper<span class="sc">$</span>paper_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Found non-matching paper_id’s. Print paper_id values in ‘task1’ that are not present in ‘all_paper’.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>task1<span class="sc">$</span>paper_id[<span class="sc">!</span>task1<span class="sc">$</span>paper_id <span class="sc">%in%</span> all_paper<span class="sc">$</span>paper_id]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "XAS95 Raley_JournMarFam_2012_D2LY" "Rjp9"                             </code></pre>
</div>
</div>
<p>Correcting the erroneous paper_id’s: * ‘XAS95 Raley_JournMarFam_2012_D2LY’ should be ‘Raley_JournMarFam_2012_D2LY’ * ‘Rjp9’ should be ‘Jiang_AmJourPoliSci_2018_Rjp9’</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">paper_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    paper_id <span class="sc">==</span> <span class="st">"XAS95 Raley_JournMarFam_2012_D2LY"</span> <span class="sc">~</span> <span class="st">"Raley_JournMarFam_2012_D2LY"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    paper_id <span class="sc">==</span> <span class="st">"Rjp9"</span> <span class="sc">~</span> <span class="st">"Jiang_AmJourPoliSci_2018_Rjp9"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> paper_id</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Verify that all paper_ids are now present.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>(task1<span class="sc">$</span>paper_id <span class="sc">%in%</span> all_paper<span class="sc">$</span>paper_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Check how many analyses were submitted with ’_2’ ID’s. Some analyst submitted multiple analyses. We assigned ’_2’ to the analyst_ids of these analyst for the second and possibly third analyses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>task1_multiple_analyses <span class="ot">&lt;-</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(analyst_id, <span class="st">"_"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(analyst_id, paper_id) <span class="sc">|&gt;</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There are no analysts who did more than 2 analysis.</p>
<p>We are removing ’_2’ from the end of analyst_id’s in both Task 1 and Task 2. They are not needed for further analysis because paper_id and analyst_id together can identify an analysis perfectly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">analyst_id =</span> <span class="fu">str_replace</span>(analyst_id, <span class="st">"_2$"</span>, <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if all analyst_id in task1 are present in all_people, if ‘FALSE’ then all ID’s match, meaning, there are no analyst ids reported in task1 that are not present in our list of analysts and their names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>(task1<span class="sc">$</span>analyst_id <span class="sc">%in%</span> all_people<span class="sc">$</span>analyst_id)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Check if there are responses from the same analyst (individual) but with different analyst_ids and which papers are affected.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_people, <span class="at">by =</span> <span class="st">"analyst_id"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">full_name =</span> <span class="fu">paste</span>(first_name, last_name)) <span class="sc">|&gt;</span> </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(analyst_id, paper_id, full_name) <span class="sc">|&gt;</span> </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(analyst_id, paper_id, full_name), tolower)) <span class="sc">|&gt;</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(full_name, analyst_id, paper_id, <span class="at">.keep_all =</span> T) <span class="sc">|&gt;</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(full_name) <span class="sc">|&gt;</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_analyst_ids =</span> <span class="fu">n_distinct</span>(analyst_id)) <span class="sc">|&gt;</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_analyst_ids <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  analyst_id paper_id                        full_name        n_analyst_ids
  &lt;chr&gt;      &lt;chr&gt;                           &lt;chr&gt;                    &lt;int&gt;
1 n8p2j      savani_psychologsci_2010_88xa   chris aberson                2
2 ezi7j      nelson_journconsres_2009_eg1q   mahmoud elsherif             2
3 nftmg      mclaren_worldpolitics_2012_wrvv chris aberson                2
4 mx02w      chen_demography_2018_yapr       mahmoud elsherif             2</code></pre>
</div>
</div>
<p>Check if same name maps to multiple IDs within a single paper.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_people, <span class="at">by =</span> <span class="st">"analyst_id"</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">full_name =</span> <span class="fu">paste</span>(first_name, last_name)) <span class="sc">|&gt;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(analyst_id, paper_id, full_name) <span class="sc">|&gt;</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(analyst_id, paper_id, full_name), tolower)) <span class="sc">|&gt;</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(paper_id, full_name, analyst_id) <span class="sc">|&gt;</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(paper_id, full_name) <span class="sc">|&gt;</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_analyst_ids =</span> <span class="fu">n_distinct</span>(analyst_id), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_analyst_ids <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: paper_id &lt;chr&gt;, full_name &lt;chr&gt;, n_analyst_ids &lt;int&gt;</code></pre>
</div>
</div>
<p>Check for duplicate responses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>task1_duplicates <span class="ot">&lt;-</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>task1_duplicates <span class="sc">|&gt;</span> </span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(paper_id, analyst_id, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
# Groups:   paper_id, analyst_id [16]
   paper_id                             analyst_id     n
   &lt;chr&gt;                                &lt;chr&gt;      &lt;int&gt;
 1 Menaldo_AmJourPoliSci_2016_Vx4e      8AYYN          3
 2 Platt_Boustan_AmEcoJourn_2012_PVQK   K0XHI          3
 3 GROSSMAN_AmPoliSciRev_2014_LyWB      GNUQA          2
 4 Ku_JournEnvPsych_2014_YpZZ           KZGB8          2
 5 Wlezien_CompPolitStu_2017_ByBk       5GT7K          2
 6 Robertson_BritJournPoliSci_2017_qggQ IFVKR          2
 7 Angrist_AmEcoRev_2009_Gv3O           AJIUW          2
 8 Cohen_AmEcoRev_2015_2lb5             YMESM          2
 9 Bursztyn_AmEcoRev_2017_VB9K          419LV          2
10 Wlezien_CompPolitStu_2017_ByBk       XF5GJ          2
11 Robertson_BritJournPoliSci_2017_qggQ T6S8L          2
12 Wlezien_CompPolitStu_2017_ByBk       KNXVJ          2
13 Andreoni_JournPoliEco_2017_La9x      YEJO9          2
14 Caldero_n_JournConflictRes_2015_Nv99 J5BBA          2
15 Hendricks_QuartJournEco_2018_wNKW    K9J6C          2
16 Cleave_ExpEco_2013_Njqj              HDP26          2</code></pre>
</div>
</div>
<p>Attend to each of these cases manually. We will only keep the correct responses for further analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>   <span class="co"># GNUQA_GROSSMAN</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 23 to be removed... responses largely identical, but the comments of the analyst indicate that SN. 24 is their preferred version</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">23</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># KZGB8_Ku</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 25 to be removed... analyst forgot to include something in original</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">25</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># AJIUW_Angrist</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 64 to be removed... submission is identical apart from conclusion... consider duplicate response a replacement of the original</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">64</span>,</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 419LV_Bursztyn</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 110 to be removed... submission is identical apart from 'years of experience'... </span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 110 states that the analyst is 30 years old and has 30 years of experience. SN. 108 reports 6 years of experience...</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># consider SN. 110 an error</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">110</span>,</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># T6S8L_Robertson</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 193 to be removed... original submission states the claim cannot be tested, but the duplicate SN. 235 corrects this</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">193</span>,</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># YMESM_Cohen</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 91 to be removed... SN. 237 is stated as an updated entry</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">91</span>,</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># IFVKR_Robertson</span></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 52 to be removed... SN. 250 is an updated entry</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">52</span>,</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 5GT7K_Wlezien</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 49 to be removed... SN. 282 is an updated entry</span></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">49</span>,</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># XF5GJ_Wlezien</span></span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 146 to be removed... SN. 283 is an updated entry</span></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">146</span>,</span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># KNXVJ_Wlezien</span></span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 216 to be removed... SN. 284 is an updated entry</span></span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">216</span>,</span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># YEJO9_Andreoni</span></span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 316 to be removed... SN. 324 is stated as an updated entry</span></span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">316</span>,</span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># J5BBA_Caldero</span></span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 337 to be removed... SN. 345 is an updated entry</span></span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">337</span>,</span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 8AYYN_Menaldo</span></span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 378 + 379 to be removed... three identical submissions</span></span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">378</span>,</span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">379</span>,</span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a>    <span class="co"># K0XHI_Platt</span></span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 386 + 387 to be removed... SN. 388 states that this is their third and final submission with minor changes made from the previous</span></span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">386</span>,</span>
<span id="cb47-49"><a href="#cb47-49" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">387</span>,</span>
<span id="cb47-50"><a href="#cb47-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># HDP26_Cleave</span></span>
<span id="cb47-51"><a href="#cb47-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 498 to be removed... SN. 497 is stated as an updated entry</span></span>
<span id="cb47-52"><a href="#cb47-52" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">498</span>,</span>
<span id="cb47-53"><a href="#cb47-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># K9J6C_Hendricks</span></span>
<span id="cb47-54"><a href="#cb47-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># SN. 415 to be removed... SN. 536 is an updated entry</span></span>
<span id="cb47-55"><a href="#cb47-55" aria-hidden="true" tabindex="-1"></a>    task1_submission_number <span class="sc">!=</span> <span class="dv">415</span> </span>
<span id="cb47-56"><a href="#cb47-56" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Verify that there are no longer any duplicates.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>task1 <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: paper_id &lt;chr&gt;, analyst_id &lt;chr&gt;, n &lt;int&gt;</code></pre>
</div>
</div>
<p>There are no duplicate responses to task1 after the cleaning.</p>
<p>Replace the non-detailed responses about the analysis procedure with additional information provided by the analyst as a response to our follow-up questions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>task1_change_from <span class="ot">&lt;-</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  non_detailed_responses <span class="sc">|&gt;</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(variable_identified_in <span class="sc">==</span> <span class="st">"task1_analysis_report"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(paper_id, analyst_id, change_to)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>task1 <span class="ot">&lt;-</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  task1 <span class="sc">|&gt;</span> </span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(task1_change_from, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"paper_id"</span>, <span class="st">"analyst_id"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">task1_analysis_report =</span> <span class="fu">case_when</span>(</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(change_to) <span class="sc">~</span> change_to,</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> task1_analysis_report   </span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>change_to)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="task-2" class="level2">
<h2 class="anchored" data-anchor-id="task-2">Task 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add 'task2_submission_number' as a reference variable</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">task2_submission_number =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(task2),</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove leading and trailing spaces from Analyst_ID and Paper_ID variables</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">analyst_id =</span> <span class="fu">trimws</span>(analyst_id, <span class="st">"both"</span>),</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove '_2' from the 'analyst_id' variable</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">analyst_id =</span> <span class="fu">str_replace</span>(analyst_id, <span class="st">"_2$"</span>, <span class="st">""</span>),</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">paper_id =</span> <span class="fu">trimws</span>(paper_id, <span class="st">"both"</span>)</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if all analyst_id in task2 are present in all_people, if ‘FALSE’ then all ID’s match.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>(task2<span class="sc">$</span>analyst_id <span class="sc">%in%</span> all_people<span class="sc">$</span>analyst_id)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Find non-matching analyst_ids in task2 that are not present in the submission form.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(task2, all_people, <span class="at">by =</span> <span class="st">"analyst_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 17
  task2_timestamp      analyst_id paper_id  task2_software task2_analysis_report
  &lt;chr&gt;                &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;                
1 2022.05.26. 23:16:49 h46k4      Petersen… R              "Per-participant, pr…
2 2023.02.16. 14:20:16 CO9RR      Antràs_E… Stata          "In order to double-…
3 2023.05.23. 13:57:25 PGT48      Fuhrmann… R              "Research design – T…
# ℹ 12 more variables: type_of_statistic &lt;chr&gt;, statistic_report &lt;chr&gt;,
#   model_sample_size &lt;dbl&gt;, model_degrees_of_freedom &lt;chr&gt;,
#   p_value_or_bayes &lt;chr&gt;, p_value_report &lt;chr&gt;, task2_conclusion &lt;chr&gt;,
#   direction_of_result &lt;chr&gt;, same_statistical_result_as_task1 &lt;chr&gt;,
#   additional_calculations &lt;chr&gt;, total_hours &lt;dbl&gt;,
#   task2_submission_number &lt;int&gt;</code></pre>
</div>
</div>
<p>Replacing non-matching analyst_ids.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">analyst_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># PGT48 should be PTG48</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"PGT48"</span> <span class="sc">~</span> <span class="st">"PTG48"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># h46k4 should be H46K4</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"h46k4"</span> <span class="sc">~</span> <span class="st">"H46K4"</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># CO9RR should be C09RR (zero rather than capital o)</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"CO9RR"</span> <span class="sc">~</span> <span class="st">"C09RR"</span>,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> analyst_id</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Verify that there are no missing analyst_ids.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(task2, all_people, <span class="at">by =</span> <span class="st">"analyst_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 17
# ℹ 17 variables: task2_timestamp &lt;chr&gt;, analyst_id &lt;chr&gt;, paper_id &lt;chr&gt;,
#   task2_software &lt;chr&gt;, task2_analysis_report &lt;chr&gt;, type_of_statistic &lt;chr&gt;,
#   statistic_report &lt;chr&gt;, model_sample_size &lt;dbl&gt;,
#   model_degrees_of_freedom &lt;chr&gt;, p_value_or_bayes &lt;chr&gt;,
#   p_value_report &lt;chr&gt;, task2_conclusion &lt;chr&gt;, direction_of_result &lt;chr&gt;,
#   same_statistical_result_as_task1 &lt;chr&gt;, additional_calculations &lt;chr&gt;,
#   total_hours &lt;dbl&gt;, task2_submission_number &lt;int&gt;</code></pre>
</div>
</div>
<p>Check if there are responses from the same analyst (individual) but with different analyst_ids and which papers are affected.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_people, <span class="at">by =</span> <span class="st">"analyst_id"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">full_name =</span> <span class="fu">paste</span>(first_name, last_name)) <span class="sc">|&gt;</span> </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(analyst_id, paper_id, full_name) <span class="sc">|&gt;</span> </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(analyst_id, paper_id, full_name), tolower)) <span class="sc">|&gt;</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(full_name, analyst_id, paper_id, <span class="at">.keep_all =</span> T) <span class="sc">|&gt;</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(full_name) <span class="sc">|&gt;</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_analyst_ids =</span> <span class="fu">n_distinct</span>(analyst_id)) <span class="sc">|&gt;</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_analyst_ids <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  analyst_id paper_id                        full_name        n_analyst_ids
  &lt;chr&gt;      &lt;chr&gt;                           &lt;chr&gt;                    &lt;int&gt;
1 ezi7j      nelson_journconsres_2009_eg1q   mahmoud elsherif             2
2 n8p2j      savani_psychologsci_2010_88xa   chris aberson                2
3 mx02w      chen_demography_2018_yapr       mahmoud elsherif             2
4 nftmg      mclaren_worldpolitics_2012_wrvv chris aberson                2</code></pre>
</div>
</div>
<p>Both Task1 and Task2 analyst_ids’s now match with the ID they were assigned to.</p>
<p>Check whether the paper_id provided by the analyst for task2 matches the correct paper_id in the meta-information sheet provided by OSF.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>(task2<span class="sc">$</span>paper_id <span class="sc">%in%</span> all_paper<span class="sc">$</span>paper_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Find non-matching paper_ids. Find paper_id values in ‘task2’ that are not present in ‘all_paper’.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>task2<span class="sc">$</span>paper_id[<span class="sc">!</span>task2<span class="sc">$</span>paper_id <span class="sc">%in%</span> all_paper<span class="sc">$</span>paper_id]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Tenye_EurSocioRev_2016_qXX2" "qQ9Z"                       
[3] "RJP9"                       </code></pre>
</div>
</div>
<p>Correcting the erroneous paper_id’s: * ‘Tenye_EurSocioRev_2016_qXX2’ should be ‘Teney_EurSocioRev_2016_qXX2’ * ‘qQ9Z’ should be ‘Desmond_Demography_2015_qQ9Z’ * ‘RJP9’ should be ‘Jiang_AmJourPoliSci_2018_Rjp9’</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">paper_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    paper_id <span class="sc">==</span> <span class="st">"Tenye_EurSocioRev_2016_qXX2"</span> <span class="sc">~</span> <span class="st">"Teney_EurSocioRev_2016_qXX2"</span>,</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    paper_id <span class="sc">==</span> <span class="st">"qQ9Z"</span> <span class="sc">~</span> <span class="st">"Desmond_Demography_2015_qQ9Z"</span>,</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    paper_id <span class="sc">==</span> <span class="st">"RJP9"</span> <span class="sc">~</span> <span class="st">"Jiang_AmJourPoliSci_2018_Rjp9"</span>,</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> paper_id</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Verify that all paper_ids are now present.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>(task2<span class="sc">$</span>paper_id <span class="sc">%in%</span> all_paper<span class="sc">$</span>paper_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>“JX7YO” wrongly submitted Task 2 paper_id as McLaren… should be Christensen… We rectify that now.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">paper_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"JX7YO"</span> <span class="sc">&amp;</span> paper_id <span class="sc">==</span> <span class="st">"McLaren_WorldPolitics_2012_wRvv"</span> <span class="sc">~</span> <span class="st">"Christensen_EurJournPersonality_2018_8R9d"</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> paper_id</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check for duplicate responses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>task2_duplicates <span class="ot">&lt;-</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>task2_duplicates <span class="sc">|&gt;</span> </span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(paper_id, analyst_id, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 65 × 3
# Groups:   paper_id, analyst_id [65]
   paper_id                          analyst_id     n
   &lt;chr&gt;                             &lt;chr&gt;      &lt;int&gt;
 1 Fehr_AmEcoRev_2011_gdlO           U8SV5          3
 2 Miller_JournConflictRes_2011_zV1O CJQM7          3
 3 Wilfahrt_WorldPolitics_2018_k7wj  3AQDX          3
 4 Chen_Demography_2018_yAPR         MX02W          3
 5 Fitzgerald_SocialForces_2018_4q0L YWYHV          3
 6 Hendricks_QuartJournEco_2018_wNKW 543X6          3
 7 BATESON_AmPoliSciRev_2012_RYKv    7HMNU          2
 8 McDevitt_JournPoliEco_2014_yQeR   DAA9C          2
 9 Einstein_AmJourPoliSci_2017_mxyQ  UYV3F          2
10 Nyhan_JournExpPoliSci_2015_DEqr   K88ZQ          2
# ℹ 55 more rows</code></pre>
</div>
</div>
<p>There are 65 analyses where there are duplicate responses out of the 580 responses. Since in some cases there are more than 2 responses, after deleting the duplicates 509 responses should remain task2.</p>
<p>Attend to each of these cases manually. Manual inspection of the duplicate responses confirms that the last instance of each analysis is the analysis that should remain in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">task2_timestamp =</span> <span class="fu">ymd_hms</span>(task2_timestamp)) <span class="sc">|&gt;</span> </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(analyst_id, paper_id) <span class="sc">%&gt;%</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(task2_timestamp <span class="sc">==</span> <span class="fu">max</span>(task2_timestamp)) <span class="sc">|&gt;</span> </span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ensure that all the duplicates are gone.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="sc">|&gt;</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 18
# Groups:   paper_id, analyst_id [0]
# ℹ 18 variables: task2_timestamp &lt;dttm&gt;, analyst_id &lt;chr&gt;, paper_id &lt;chr&gt;,
#   task2_software &lt;chr&gt;, task2_analysis_report &lt;chr&gt;, type_of_statistic &lt;chr&gt;,
#   statistic_report &lt;chr&gt;, model_sample_size &lt;dbl&gt;,
#   model_degrees_of_freedom &lt;chr&gt;, p_value_or_bayes &lt;chr&gt;,
#   p_value_report &lt;chr&gt;, task2_conclusion &lt;chr&gt;, direction_of_result &lt;chr&gt;,
#   same_statistical_result_as_task1 &lt;chr&gt;, additional_calculations &lt;chr&gt;,
#   total_hours &lt;dbl&gt;, task2_submission_number &lt;int&gt;, n &lt;int&gt;</code></pre>
</div>
</div>
<p>After deleting the duplicates there are 509 responses remained. The deletion of the duplicates was successful.</p>
<p>Check how many Analyst ID’s are present in Task1 data but NOT Task2 data. Then, verify that there are no analyst_ids in Task2 that do not appear in Task1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># It is possible to have analyst_ids in task1 that are not present in task2, since not all of the analysts completed task2 who completed task2</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(task1<span class="sc">$</span>analyst_id, task2<span class="sc">$</span>analyst_id) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S3EJK" "JXHKU" "P4LGD" "4AJ2G" "87B05"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># But there should be no analyst who completed task2 but did not submit a task1 response</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(task2<span class="sc">$</span>analyst_id, task1<span class="sc">$</span>analyst_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
</div>
<p>Indeed, there are 5 analysts who finished task1 but not task2. However, there are no analyst who finished task2 but not task1.</p>
<p>Since it is possible for one analyst to analyse multiple papers, we have to make sure that each analyst provided a response for the same paper in task1 and task2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get distinct combinations from both datasets</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>task1_ids <span class="ot">&lt;-</span> task1 <span class="sc">|&gt;</span> <span class="fu">distinct</span>(analyst_id, paper_id)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>task2_ids <span class="ot">&lt;-</span> task2 <span class="sc">|&gt;</span> <span class="fu">distinct</span>(analyst_id, paper_id)</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check combinations present in Task1 but not in Task2</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>missing_in_task2 <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(task1_ids, task2_ids, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"analyst_id"</span>, <span class="st">"paper_id"</span>))</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(missing_in_task2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check combinations present in Task2 but not in Task1</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>missing_in_task1 <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(task2_ids, task1_ids, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"analyst_id"</span>, <span class="st">"paper_id"</span>))</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(missing_in_task1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>There are 2 analysts who did multiple analyses and did not follow up with their second analysis by providing responses to task2 as well. These task1 responses therefore will not be included in the processed dataset.</p>
<p>Check the number of distinct papers in task2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>task2 <span class="sc">|&gt;</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(paper_id) <span class="sc">|&gt;</span> </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
<p>There are 100 distinct paper ids as it should be.</p>
<p>Replace the non-detailed responses about the analysis procedure with additional information provided by the analyst as a response to our follow-up questions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>task2_change_from <span class="ot">&lt;-</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  non_detailed_responses <span class="sc">|&gt;</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(variable_identified_in <span class="sc">==</span> <span class="st">"task2_analysis_report"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(paper_id, analyst_id, change_to)</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>task2 <span class="ot">&lt;-</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  task2 <span class="sc">|&gt;</span> </span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(task2_change_from, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"paper_id"</span>, <span class="st">"analyst_id"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">task2_analysis_report =</span> <span class="fu">case_when</span>(</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(change_to) <span class="sc">~</span> change_to,</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> task2_analysis_report   </span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>change_to)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combining-task-1-and-task-2" class="level2">
<h2 class="anchored" data-anchor-id="combining-task-1-and-task-2">Combining Task 1 and Task 2</h2>
<p>Join task 1 and task 2 data based on both analyst_id and paper_id.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(task1, task2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"analyst_id"</span>, <span class="st">"paper_id"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check the number of distinct papers based on paper_id after joining task1 and task2 responses. There should be a 100 distinct papers in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(paper_id) <span class="sc">|&gt;</span> </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
<p>We have a complete analysis for all 100 papers.</p>
<p>Check number of analyses based on paper_id.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(paper_id) <span class="sc">|&gt;</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 2
   paper_id                                      n
   &lt;chr&gt;                                     &lt;int&gt;
 1 Chen_Demography_2018_yAPR                     7
 2 Christensen_EurJournPersonality_2018_8R9d     7
 3 Angrist_AmEcoRev_2009_Gv3O                    6
 4 Bingham Powell_CompPolitStu_2009_0PZl         6
 5 Cleave_ExpEco_2013_Njqj                       6
 6 Desmond_Demography_2015_qQ9Z                  6
 7 Fehr_AmEcoRev_2011_gdlO                       6
 8 Fuhrmann_JournConflictRes_2010_8Wy0           6
 9 Goerg_JournLabEco_2010_WLpV                   6
10 Huijts_EurSocioRev_2013_OY3B                  6
# ℹ 90 more rows</code></pre>
</div>
</div>
<p>Check if every analyses are unique.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: paper_id &lt;chr&gt;, analyst_id &lt;chr&gt;, n &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="combining-signup-form" class="level2">
<h2 class="anchored" data-anchor-id="combining-signup-form">Combining signup form</h2>
<p>Merge all_people with multi100_data based on analyst_id.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(multi100_data, all_people, <span class="at">by =</span> <span class="st">"analyst_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="merge-original-paper-info" class="level2">
<h2 class="anchored" data-anchor-id="merge-original-paper-info">Merge original paper info</h2>
<p>Merge with multi100_data based on paper_id</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(multi100_data, all_paper, <span class="at">by =</span> <span class="st">"paper_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="merge-master-spreadsheet" class="level2">
<h2 class="anchored" data-anchor-id="merge-master-spreadsheet">Merge master spreadsheet</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(multi100_data, master, <span class="at">by =</span> <span class="st">"paper_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="merge-original-effect-size-info" class="level2">
<h2 class="anchored" data-anchor-id="merge-original-effect-size-info">Merge original effect size info</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(multi100_data, original_effect_sizes, <span class="at">by =</span> <span class="st">"paper_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="merge-reanalyzes-effect-size-info" class="level2">
<h2 class="anchored" data-anchor-id="merge-reanalyzes-effect-size-info">Merge reanalyzes effect size info</h2>
<p>Check which multi100 analyses is not in the reanalyzed_effect_sizes table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(multi100_data, reanalyzed_effect_sizes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"paper_id"</span>, <span class="st">"analyst_id"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 70
  task1_timestamp    analyst_id paper_id current_position current_position_gro…¹
  &lt;chr&gt;              &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;                 
1 2022.07.09. 12:40… 93K4P      TERTYTC… Post-Doc Resear… Post-Doc Researcher   
2 2023.03.06. 19:25… 8P2J2      Dahl_Am… Assistant Profe… Assistant Professor   
# ℹ abbreviated name: ¹​current_position_grouped
# ℹ 65 more variables: education_level &lt;chr&gt;, analyst_discipline &lt;chr&gt;,
#   primary_discipline &lt;chr&gt;, keywords &lt;chr&gt;, years_of_experience &lt;dbl&gt;,
#   analysis_frequency &lt;chr&gt;, expertise_self_rating &lt;dbl&gt;,
#   familiar_with_paper &lt;chr&gt;, communication_check &lt;chr&gt;, task1_software &lt;chr&gt;,
#   task1_analysis_report &lt;chr&gt;, task1_conclusion &lt;chr&gt;,
#   task1_categorisation &lt;chr&gt;, confidence_in_approach &lt;dbl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># These analyst will be excluded from the main analysis</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="co"># We flag them later in the code</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(multi100_data, reanalyzed_effect_sizes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"paper_id"</span>, <span class="st">"analyst_id"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="select-and-re-order-variables" class="level2">
<h2 class="anchored" data-anchor-id="select-and-re-order-variables">Select and re-order variables</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># id variables</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>    analyst_id, paper_id,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># personal information</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>    first_name, last_name, </span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># operational information for the project</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>    name_attached_to_analysis, disclosure_agreement, willing_to_peer_eval,</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># timestamps</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>    signup_timestamp, task1_timestamp, task2_timestamp, </span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># demographic information</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>    current_position_grouped, education_level, primary_discipline, keywords,</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># experience with analysis</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>    experience_conducting_analyses, years_of_experience, analysis_frequency, expertise_self_rating, total_hours,</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># familiarity and discussion of the paper</span></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>    familiar_with_paper, communication_check,</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># paper level information</span></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>    paper_discipline, reproduction_type_osf, reproduction_result_osf, categorisation_of_claim, original_title, original_materials, original_paper_reference, experimental_or_observational, paper_link, general_osf_link,</span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># original paper statistical results</span></span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>    original_claim, in_text_original_statistical_result, related_original_statistical_result,</span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>    original_type_of_statistic, original_statistic_report, original_degrees_of_freedom_1,</span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>    original_degrees_of_freedom_2, original_model_sample_size, original_result_page_number,</span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>    original_correlation_coef, original_cohens_d, original_effect_size_available, original_reproduction_outcome,</span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># task1 responses (some of the variables were included before)</span></span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>    task1_software, task1_analysis_report, task1_conclusion, task1_categorisation, task1_categorisation_plotting, confidence_in_approach,</span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>    data_suitability, instructions_given,</span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># task2 responses (some of the variables were included before)</span></span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a>    task2_software, task2_analysis_report,</span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the cleaned versions of these variables are included with reanalaysis_ suffix</span></span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># type_of_statistic,</span></span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># statistic_report,</span></span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># model_sample_size,</span></span>
<span id="cb100-34"><a href="#cb100-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># model_degrees_of_freedom,</span></span>
<span id="cb100-35"><a href="#cb100-35" aria-hidden="true" tabindex="-1"></a>    p_value_or_bayes,</span>
<span id="cb100-36"><a href="#cb100-36" aria-hidden="true" tabindex="-1"></a>    p_value_report, task2_conclusion, direction_of_result, same_statistical_result_as_task1,</span>
<span id="cb100-37"><a href="#cb100-37" aria-hidden="true" tabindex="-1"></a>    additional_calculations,</span>
<span id="cb100-38"><a href="#cb100-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># reproduced effect sizes</span></span>
<span id="cb100-39"><a href="#cb100-39" aria-hidden="true" tabindex="-1"></a>    reanalysis_es_missing, reanalysis_type_of_statistic, reanalysis_statistic_report, reanalysis_degrees_of_freedom_1, reanalysis_degrees_of_freedom_2, reanalysis_model_sample_size, reanalysis_correlation_coef, reanalysis_cohens_d</span>
<span id="cb100-40"><a href="#cb100-40" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cleaning-merged-dataset" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-merged-dataset">Cleaning merged dataset</h2>
<p>Add id_number to each analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">analysis_id =</span> <span class="fu">cur_group_id</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Change <em>experimental_or_observational</em> values to explicit character type.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">experimental_or_observational =</span> <span class="fu">case_when</span>(</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>      experimental_or_observational <span class="sc">==</span> <span class="dv">1</span>L <span class="sc">~</span> <span class="st">"experimental"</span>,</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>      experimental_or_observational <span class="sc">==</span> <span class="dv">0</span>L <span class="sc">~</span> <span class="st">"observational"</span>,</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>View the analyses we have to remove based on the expert review of the peer evaluation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>peer_eval_review <span class="sc">|&gt;</span> </span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(expert_panel_decision <span class="sc">==</span> <span class="st">"Remove"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(analyst_id, paper_id, expert_panel_decision)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  analyst_id paper_id                     expert_panel_decision
  &lt;chr&gt;      &lt;chr&gt;                        &lt;chr&gt;                
1 NSDML      PALER_AmPoliSciRev_2013_Pxp7 Remove               </code></pre>
</div>
</div>
<p>Flag analyses that we will exclude because they did not pass the peer evaluation or because the analyst did not provide an analysis in their response.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">%&gt;%</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">peer_eval_pass =</span> <span class="fu">case_when</span>(</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>      <span class="co"># add one more based on Harry's suggestion</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Based on expert panel decision</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>      analyst_id <span class="sc">==</span> <span class="st">"NSDML"</span> <span class="sc">&amp;</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>        paper_id <span class="sc">==</span> <span class="st">"PALER_AmPoliSciRev_2013_Pxp7"</span> <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">TRUE</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># we removed them because they did not actually do the analysis</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">incomplete_response_pass =</span> <span class="fu">case_when</span>(</span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>      analyst_id <span class="sc">==</span> <span class="st">"8P2J2"</span> <span class="sc">&amp;</span></span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>        paper_id <span class="sc">==</span> <span class="st">"Dahl_AmEcoRev_2012_VRKK"</span> <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>      analyst_id <span class="sc">==</span> <span class="st">"8PTRZ"</span> <span class="sc">&amp;</span></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>        paper_id <span class="sc">==</span> <span class="st">"Baccara_AmEcoJourn_2014_RqVE"</span> <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>      analyst_id <span class="sc">==</span> <span class="st">"93K4P"</span> <span class="sc">&amp;</span></span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>        paper_id <span class="sc">==</span> <span class="st">"TERTYTCHNAYA_AmPoliSciRev_2018_9wya"</span> <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>      analyst_id <span class="sc">==</span> <span class="st">"YZDX0"</span> <span class="sc">&amp;</span></span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>        paper_id <span class="sc">==</span> <span class="st">"Lu_JournLabEco_2015_vaWE"</span> <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">TRUE</span></span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check if analyst ids are still unique to people.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(first_name, last_name, analyst_id), tolower)) <span class="sc">|&gt;</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">full_name =</span> <span class="fu">paste</span>(first_name, last_name)) <span class="sc">|&gt;</span> </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(analyst_id, full_name) <span class="sc">|&gt;</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(full_name) <span class="sc">|&gt;</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_id =</span> <span class="fu">n_distinct</span>(analyst_id), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 459 × 2
   full_name           n_id
   &lt;chr&gt;              &lt;int&gt;
 1 chris aberson          2
 2 mahmoud elsherif       2
 3 aaron wichman          1
 4 abi davis              1
 5 adam bouyamourn        1
 6 adil al-busaidi        1
 7 adrian onicas          1
 8 agata gasiorowska      1
 9 aidas masiliunas       1
10 alberto antonietti     1
# ℹ 449 more rows</code></pre>
</div>
</div>
<p>Some analyst_ids are not unique to the person. We correct this error now before saving the processed dataset.</p>
<p>The id that we will use for these analysts are: * Mahmoud Elsherif: EZI7J * Chris Aberson: N8P2J</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">%&gt;%</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">analyst_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"MX02W"</span> <span class="sc">~</span> <span class="st">"EZI7J"</span>,</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"NFTMG"</span> <span class="sc">~</span> <span class="st">"N8P2J"</span>,</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> analyst_id</span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Create a simplified paper_id for the figures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(paper_id) <span class="sc">|&gt;</span> </span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">simplified_paper_id =</span> stringr<span class="sc">::</span><span class="fu">str_pad</span>(dplyr<span class="sc">::</span><span class="fu">cur_group_id</span>(), <span class="at">width =</span> <span class="dv">3</span>, <span class="at">pad =</span> <span class="st">"0"</span>)</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Change the direction of task2 effect sizes based on the direction of the reanalysis conclusion compared to the original conclusion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>multi100_data <span class="ot">&lt;-</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  multi100_data <span class="sc">|&gt;</span> </span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(   </span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># All the reanalysed effect sizes are negative where the reanalysed conclusion goes the opposite direction than the original</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">reanalysis_cohens_d =</span> <span class="fu">if_else</span>(direction_of_result <span class="sc">==</span> <span class="st">"Opposite as claimed by the original study"</span>,</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>                                  reanalysis_cohens_d <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>                                  reanalysis_cohens_d))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Export processed dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(multi100_data, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_processed_data.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Export the rest of the datasets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(task1, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_task1_processed_data.csv"</span>))</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(task2, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_task2_processed_data.csv"</span>))</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(all_people, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_all-people_processed_data.csv"</span>))</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(all_paper, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_all-paper_processed_data.csv"</span>))</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(master, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_master_processed_data.csv"</span>))</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(original_effect_sizes, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_original_effect-sizes_processed_data.csv"</span>))</span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(reanalyzed_effect_sizes, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_reanalyzed_effect-sizes_processed_data.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="peer-evaluation-data" class="level2">
<h2 class="anchored" data-anchor-id="peer-evaluation-data">Peer evaluation data</h2>
<p>Add peereval_submission_number.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">peereval_submission_number =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(peer_eval),</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create eval_id which concatenates analyst_id, paper_id, and evaluator_id</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">eval_id =</span> <span class="fu">paste</span>(analyst_id, paper_id, evaluator_id, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We pay attention to the first 500 peer evaluations only.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span> </span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Remove ‘OTHER’ submission - evaluator did not provide the ID of the co-analyst and so should be removed. This is submission number 459.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span> </span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(peereval_submission_number <span class="sc">!=</span> <span class="dv">459</span>) <span class="co"># flag this to count it in the results paper</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We changed non-unique analyst_ids in the main dataset (multi100_data), now we change the corresponding ids in the peer_eval data as well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">analyst_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>    analyst_id <span class="sc">==</span> <span class="st">"MX02W"</span> <span class="sc">~</span> <span class="st">"EZI7J"</span>,</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> analyst_id</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check that all evaluator_id’s appear in multi100_data$analyst_id. If ‘FALSE’ then all ID’s match.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>peer_eval<span class="sc">$</span>evaluator_id <span class="sc">%in%</span> multi100_data<span class="sc">$</span>analyst_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Check that all analyst_id’s appear in multi100_data$analyst_id. If ‘FALSE’ then all ID’s match.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>peer_eval<span class="sc">$</span>analyst_id <span class="sc">%in%</span> multi100_data<span class="sc">$</span>analyst_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>analyst_id <span class="sc">%in%</span> multi100_data<span class="sc">$</span>analyst_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 15
# ℹ 15 variables: peereval_timestamp &lt;chr&gt;, evaluator_id &lt;chr&gt;, paper_id &lt;chr&gt;,
#   analyst_id &lt;chr&gt;, task1_pipeline_acceptable &lt;chr&gt;,
#   why_is_task1_pipeline_unacceptable &lt;chr&gt;,
#   task1_conclusion_follows_results &lt;chr&gt;,
#   why_does_conclusion_not_follow_results &lt;chr&gt;,
#   task1_categorisation_is_accurate &lt;chr&gt;, task2_pipeline_acceptable &lt;chr&gt;,
#   why_is_task2_pipeline_unacceptable &lt;chr&gt;, any_code_mismatches &lt;chr&gt;, …</code></pre>
</div>
</div>
<p>Check that all paper_id’s appear in multi100_data$paper_id. If ‘FALSE’ then all ID’s match.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="sc">!</span>peer_eval<span class="sc">$</span>paper_id <span class="sc">%in%</span> multi100_data<span class="sc">$</span>paper_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Check with setdiff that all of the analyst_id and paper_id pairs in PeerEvals appear in multi100_data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(peer_eval, analyst_id, paper_id),</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(multi100_data, analyst_id, paper_id)</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  analyst_id paper_id                        
  &lt;chr&gt;      &lt;chr&gt;                           
1 AUX74      Bursztyn_JournPoliEco_2012_jaK4 
2 UNX4S      Bursztyn_AmEcoRev_2017_VB9K     
3 CCU09      Baillon_Econometrica_2018_QYNq  
4 8GS2H      Hurst_EvoHumanBehavior_2017_yypJ
5 QPS9D      Bigoni_Econometrica_2015_VBx1   
6 J3ODA      Sliwka_JournLabEco_2017_VDJV    
7 0XXWZ      Kucik_BritJournPoliSci_2016_L22B
8 DAIUV      Jiang_AmJourPoliSci_2018_Rjp9   </code></pre>
</div>
</div>
<p>Fixing erroneous ids: * AUX74_Bursztyn_JournPoliEco_2012_jaK4 (SN. 141): should be AUX74_Bursztyn_AmEcoRev_2017_VB9K * UNX4S_Bursztyn_AmEcoRev_2017_VB9K (SN. 208): should be UNX4S_Bursztyn_JournPoliEco_2012_jaK4 * CCU09_Baillon_Econometrica_2018_QYNq (SN. 284): should be CC3UD_Baillon_Econometrica_2018_QYNq - analyst describes that the analyst does not provide their code. This is the case for CC3UD (similar to CCU09) on the Baillon paper. * 8GS2H_Hurst_EvoHumanBehavior_2017_yypJ (SN. 333): should be 8GS27_Hurst_EvoHumanBehavior_2017_yypJ * QPS9D_Bigoni_Econometrica_2015_VBx1 (two cases) (SN. 343, 352): should be QPSID_Bigoni_Econometrica_2015_VBx1 - both QPS9D and QPSID exist as separate analysts * J3ODA_Sliwka_JournLabEco_2017_VDJV (SN. 350): should be JE3RS_Sliwka_JournLabEco_2017_VDJV - similar ID exists on sliwka OSF page… two other analysts evaluated J3ODA, both for a different paper (Nyhan)… evaluator here states that they found evidence for the null hypothesis, which is the case in the submission of JE3RS_Sliwka (and this is different to the two other evaluations) * 0XXWZ_Kucik_BritJournPoliSci_2016_L22B (SN. 406): should be 0XXW0_Kucik_BritJournPoliSci_2016_L22B - there exists a 0XXWZ_BATESON, but on the Kucik page the ID is 0XXW0 * DAIUV_Jiang_AmJourPoliSci_2018_Rjp9 (two cases) (SN. 446, 451): should be DAILV_Jiang_AmJourPoliSci_2018_Rjp9 - DAIUV_Baillon exists, DAILV_Rovny exists and DAILV_2_Jiang exists (mislabelled on OSF) * SN. 446 submitted the co-analysts ID as their own ID - it should be NSDML (based on the email address they provided)</p>
<p>Alter either the analyst_id or paper_id as appropriate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">%&gt;%</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">paper_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">141</span> <span class="sc">~</span> <span class="st">"Bursztyn_AmEcoRev_2017_VB9K"</span>,</span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">208</span> <span class="sc">~</span> <span class="st">"Bursztyn_JournPoliEco_2012_jaK4"</span>,</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> paper_id</span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">analyst_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">284</span> <span class="sc">~</span> <span class="st">"CC3UD"</span>,</span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">333</span> <span class="sc">~</span> <span class="st">"8GS27"</span>,</span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">343</span> <span class="sc">~</span> <span class="st">"QPSID"</span>,</span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">352</span> <span class="sc">~</span> <span class="st">"QPSID"</span>,</span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">350</span> <span class="sc">~</span> <span class="st">"JE3RS"</span>,</span>
<span id="cb127-15"><a href="#cb127-15" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">406</span> <span class="sc">~</span> <span class="st">"0XXW0"</span>,</span>
<span id="cb127-16"><a href="#cb127-16" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">446</span> <span class="sc">~</span> <span class="st">"DAILV"</span>,</span>
<span id="cb127-17"><a href="#cb127-17" aria-hidden="true" tabindex="-1"></a>      peereval_submission_number <span class="sc">==</span> <span class="dv">451</span> <span class="sc">~</span> <span class="st">"DAILV"</span>,</span>
<span id="cb127-18"><a href="#cb127-18" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> analyst_id</span>
<span id="cb127-19"><a href="#cb127-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb127-20"><a href="#cb127-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">evaluator_id =</span> <span class="fu">case_when</span>(peereval_submission_number <span class="sc">==</span> <span class="dv">446</span> <span class="sc">~</span> <span class="st">"NSDML"</span>,</span>
<span id="cb127-21"><a href="#cb127-21" aria-hidden="true" tabindex="-1"></a>                             <span class="cn">TRUE</span> <span class="sc">~</span> evaluator_id)</span>
<span id="cb127-22"><a href="#cb127-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We have to change these values in the peer eval review as well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>peer_eval_review <span class="ot">&lt;-</span> </span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  peer_eval_review <span class="sc">|&gt;</span> </span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">analyst_id =</span> <span class="fu">case_when</span>(</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>      analyst_id <span class="sc">==</span> <span class="st">"J3ODA"</span> <span class="sc">&amp;</span> paper_id <span class="sc">==</span> <span class="st">"Sliwka_JournLabEco_2017_VDJV"</span> <span class="sc">&amp;</span> evaluator_id <span class="sc">==</span> <span class="st">"A1SBQ"</span> <span class="sc">~</span> <span class="st">"JE3RS"</span>,</span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> analyst_id</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We also drop some of the values that are duplicates and should not be in the peer evaluation review</span></span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(analyst_id <span class="sc">==</span> <span class="st">"GHN4R"</span> <span class="sc">&amp;</span> paper_id <span class="sc">==</span> <span class="st">"Menaldo_AmJourPoliSci_2016_Vx4e"</span> <span class="sc">&amp;</span> evaluator_id <span class="sc">==</span> <span class="st">"WANJC"</span>),</span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(analyst_id <span class="sc">==</span> <span class="st">"MOYDE"</span> <span class="sc">&amp;</span> paper_id <span class="sc">==</span> <span class="st">"Axt_JournExpSocPsych_2018_zK2"</span> <span class="sc">&amp;</span> evaluator_id <span class="sc">==</span> <span class="st">"EZI7J"</span>)</span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Re-run code to produce eval_id.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">eval_id =</span> <span class="fu">paste</span>(analyst_id, paper_id, evaluator_id, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Verify that all paper_id and analyst_id combinations now appear in multi100_data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(peer_eval, paper_id, analyst_id),</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(multi100_data, paper_id, analyst_id)</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 2
# ℹ 2 variables: paper_id &lt;chr&gt;, analyst_id &lt;chr&gt;</code></pre>
</div>
</div>
<p>Check and remove duplicate responses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>peer_eval_duplicates <span class="ot">&lt;-</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(eval_id) <span class="sc">|&gt;</span> </span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>peer_eval_duplicates <span class="sc">|&gt;</span> </span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(eval_id, n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
# Groups:   eval_id [8]
  eval_id                                            n
  &lt;chr&gt;                                          &lt;int&gt;
1 GHN4R_Menaldo_AmJourPoliSci_2016_Vx4e_WANJC        3
2 WCZJU_Luttrell_JournExpSocPsych_2016_rjb_EZI7J     2
3 MOYDE_Axt_JournExpSocPsych_2018_zK2_EZI7J          2
4 PFQSU_Miller_JournConflictRes_2011_zV1O_AMDFX      2
5 CC3UD_Baillon_Econometrica_2018_QYNq_AHW5W         2
6 67DKH_Ihme_JournExpPoliSci_2018_xYbO_R08MV         2
7 9U4RV_Hou_ChildDev_2017_YOXl_EZI7J                 2
8 Q5U26_Wang_AmEcoJourn_2013_7d4J_SJAS8              2</code></pre>
</div>
</div>
<p>Duplicated peer evals are the following: * WCZJU_Luttrell_JournExpSocPsych_2016_rjb_EZI7J: !SN. 17 * MOYDE_Axt_JournExpSocPsych_2018_zK2_EZI7J: !SN. 45 * PFQSU_Miller_JournConflictRes_2011_zV1O_AMDFX: !SN. 103 * CC3UD_Baillon_Econometrica_2018_QYNq_AHW5W: !SN. 284 * 67DKH_Ihme_JournExpPoliSci_2018_xYbO_R08MV: !SN. 298 * 9U4RV_Hou_ChildDev_2017_YOXl_EZI7J: !SN. 355 * Q5U26_Wang_AmEcoJourn_2013_7d4J_SJAS8: !SN. 375 * GHN4R_Menaldo_AmJourPoliSci_2016_Vx4e_WANJC: !SN. 465, 466</p>
<p>Deleting duplicates.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">17</span>,</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">45</span>,</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">103</span>,</span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">284</span>,</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">298</span>,</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">355</span>,</span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">375</span>,</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">465</span>,</span>
<span id="cb134-12"><a href="#cb134-12" aria-hidden="true" tabindex="-1"></a>    peereval_submission_number <span class="sc">!=</span> <span class="dv">466</span></span>
<span id="cb134-13"><a href="#cb134-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Remove case where evaluator reviewed their own analysis (!SN. 462: WJVLO_Pastötter_Cognition_2013_EQxa_WJVLO). We decided to treat this responses as non-valid response and do not include it in the summary statistics for the peer evaluation in the results section of the paper.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="ot">&lt;-</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">|&gt;</span> </span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(peereval_submission_number <span class="sc">!=</span> <span class="dv">462</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Count the number of times each paper_id and analyst_id appears in peer_eval.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>peer_eval <span class="sc">%&gt;%</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(paper_id, analyst_id) <span class="sc">|&gt;</span> </span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 279 × 3
   paper_id                         analyst_id     n
   &lt;chr&gt;                            &lt;chr&gt;      &lt;int&gt;
 1 Chen_Demography_2018_yAPR        YSAKF          4
 2 Grose_AmJourPoliSci_2015_E0Q3    MMLOE          3
 3 Liu_JournMarket_2015_9DZl        UPE13          3
 4 Nelson_JournConsRes_2009_eg1q    EZI7J          3
 5 Wlezien_CompPolitStu_2017_ByBk   5GT7K          3
 6 ANN_SLOCUM_Criminology_2010_JxXe 5AV43          2
 7 ANN_SLOCUM_Criminology_2010_JxXe W2VHN          2
 8 Alves_PsychologSci_2018_AvOr     JX2VH          2
 9 Alves_PsychologSci_2018_AvOr     XCTOL          2
10 Anderson_AmEcoJourn_2011_bLe8    12HIO          2
# ℹ 269 more rows</code></pre>
</div>
</div>
<p>Transforming peer evaluation responses based on the review by the expert panel. We will make two version of the peer evaluation dataset for the analysis: * One that contains all the peer evaluation data preprocessing steps except the changed responses due to the review of the peer evaluation: multi100_peer-eval-not-reviewed_processed_data * One that contains all data preprocessing steps AND the changed values as well: multi100_peer-eval_processed_data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter values to be changed by the peer evalution review</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Decision for values to be changed were done by the core team</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>peer_eval_to_change <span class="ot">&lt;-</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>  peer_eval_review <span class="sc">|&gt;</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(evaluator_id, paper_id, analyst_id, variable_name, change_to) <span class="sc">|&gt;</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(change_to))</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a>peer_eval_changed <span class="ot">&lt;-</span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a>  peer_eval <span class="sc">%&gt;%</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span>analyst_id, <span class="sc">-</span>paper_id, <span class="sc">-</span>evaluator_id, <span class="sc">-</span>peereval_timestamp, <span class="sc">-</span>peereval_submission_number, <span class="sc">-</span>eval_id), <span class="at">names_to =</span> <span class="st">"variable_name"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a>    peer_eval_to_change,</span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"evaluator_id"</span>, <span class="st">"paper_id"</span>, <span class="st">"analyst_id"</span>, <span class="st">"variable_name"</span>)</span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(change_to), change_to, value)) <span class="sc">%&gt;%</span></span>
<span id="cb138-17"><a href="#cb138-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>change_to) <span class="sc">%&gt;%</span></span>
<span id="cb138-18"><a href="#cb138-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> variable_name, <span class="at">values_from =</span> value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>According to the decision of the expert panel 489 decisions made by the peer evaluators were modified.</p>
<p>Save processed peer evaluation and peer evaluation review data separately.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(peer_eval_changed, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_peer-eval_processed_data.csv"</span>))</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(peer_eval, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_peer-eval-not-reviewed_processed_data.csv"</span>))</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(peer_eval_review, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/processed/multi100_peer-eval-review_processed_data.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>